#######################################
		cancelJob
 Function cancelJob
	if TTTT_jobno is not empty, cancel the job
	emits a warning if TTTT_jobno is empty and the execution pase is not finalization
 Parameters:
	$TTTT_jobno - the job number
	$TTPRN_streamsDomainId - domain id
	$TTPRN_streamsInstanceId - instance id
 Returns:
	success
 Exits:
	if the cancel command fails, e. g. when the command is called with a wrong job number
 Side Effect:
	TTTT_jobno is empty


#######################################
		cancelJobAndLog
 Function cancelJobAndLog
	cancel job and provide log files in current directory
	if TTTT_jobno is not empty, cancel the job
	emits a warning if TTTT_jobno is empty and the execution pase is not finalization
 Parameters:
	$TTTT_jobno - the job number
	$TTPRN_streamsDomainId - domain id
	$TTPRN_streamsInstanceId - instance id
 Returns:
	success
 Exits:
	if anythig goes wrong, e. g. when the command is called with a wrong job number
 Side Effect:
	TTTT_jobno is empty


#######################################
		cancelJobAndLogVariable
 Function cancelJobAndLogVariable
	cancel job and provide log files in current directory
 Parameters:
	$1 - domain id
	$2 - instance id
	$3 - jobno
 Returns:
	the result code of the executed tar command
 Exits:
	if anything goes wrong, e. g. when the command is called with a wrong job number


#######################################
		cancelJobOld
 Function cancelJobOld
	$1 jobno


#######################################
		cancelJobVariable
 Function cancelJobVariable
 Parameters:
	$1 - domain id
	$2 - instance id
	$3 - jobno
 Returns:
	the result code of the executed command


#######################################
		checkJobNo
 Function checkJobNo
	Checks whether the variable TTTT_jobno has a valid job number (is not empty)
	and set the error condition if the check fails
 Parameters:
	TTTT_jobno - the job number to check
 Returns:
	success
 Side Effects:
	set failure variable if chck has failed


#######################################
		cleanUpInstAndDomain
 Function cleanUpInstAndDomain
	stop instance and domain if running and clean instance and domain


#######################################
		cleanUpInstAndDomainAtStart
 Function cleanUpInstAndDomainAtStart
	stop and clean instance and domain at script start
	Function is not executed if TTPR_noStart is true
	If variable TTPR_clean is true
	    a clean up is forced, the instance and domain is stopped and removed
	If variable TTPR_clean is not true
	    no clean up is done if the instace is running
	    otherwise instance and domain is cleaned up


#######################################
		cleanUpInstAndDomainAtStartVariable
 Function cleanUpInstAndDomainAtStartVariable
	like cleanUpInstAndDomainAtStart but with parameters
	$1 zk string
	$2 domain id
	$3 instance id
	return_code: success


#######################################
		cleanUpInstAndDomainAtStop
 Function cleanUpInstAndDomainAtStop
	stop and clean instance and domain at script stop
	Function is not executed if TTPR_noStop is true
	If variable TTPR_clean is true
	    a clean up is forced, the instance and domain is stopped and removed
	otherwise
	    no clean up is done


#######################################
		cleanUpInstAndDomainAtStopVariable
 Function cleanUpInstAndDomainAtStopVariable
	like cleanUpInstAndDomainAtStop but with parameters
	$1 zk string
	$2 domain id
	$3 instance id
	return_code: success


#######################################
		cleanUpInstAndDomainVariable
 Function cleanUpInstAndDomainVariable
	stop and clean instance and domain from variable params
	$1 zk string
	$2 domain id
	$3 instance id
	return_code: success


#######################################
		cleanUpInstAndDomainVariableOld
 Function cleanUpInstAndDomainVariableOld deprecated, use cleanUpInstAndDomain
	stop and clean instance and domain from variable params
	$1 start or stop determines the if TTPR_noStart or TTPR_noStop is evaluated
	$2 zk string
	$3 domain id
	$4 instance id


#######################################
		copyAndMorphSpl
 Function copyAndMorphSpl
	Copy all files from input directory to workdir and
	Transform spl files
	the variant identifier is $TTRO_variantCase


#######################################
		copyAndMorphSpl2
 Function copyAndMorphSpl2
	Copy all files from input directory to workdir and
	Transform spl files
	the variant identifier is $1


#######################################
		copyAndTransformSpl
 Function copyAndTransformSpl
	deprecated use copyAndMorphSpl
	Copy all files from input directory to workdir and
	Transform spl files
	the variant identifier is $TTRO_variantCase


#######################################
		copyAndTransformSpl2
 Function copyAndTransformSpl2
	deprecated use copyAndMorphSpl2
	Copy all files from input directory to workdir and
	Transform spl files
	the variant identifier is $1


#######################################
		jobHealthy
 Function jobHealthy
	checks whether a job is healthy
	This function has the same function as function jobHealthyVariable except parameters
 Parameters:
	TTPRN_streamsDomainId   - domain id
	TTPRN_streamsInstanceId - instance id
	TTTT_jobno              - job number
 Returns:
	see jobHealthyVariable
 Exits:
	see jobHealthyVariable
 Side Effects:
	see jobHealthyVariable


#######################################
		jobHealthyAndIntercept
 Function jobHealthyAndIntercept
	checks whether a job is healthy and return code is always 0
	This function has the same function as function jobHealthy except return and side effects
	provides return code of in variable TTTT_result
 Parameters:
	see jobHealthy
 Returns:
	success
 Exits:
	see jobHealthyVariable
 Side Effects:
	see jobHealthyVariable
	TTTT_result - success if job is healthy and running
	              error  if job is not healthy or not running or command has failed


#######################################
		jobHealthyVariable
 Function jobHealthyVariable
	checks whether a job is healthy
 Parameters:
	$1 - domain id
	$2 - instance id
	$3 - jobno
 Returns:
	success (0) if job is healthy and running
	error       if job is not healthy or is not running or the command (streamtool lsjob failed
 Exits:
	if the command is called with wrong parameters
	if the streamtool lsjob return wrong information
 Side Effects:
	TTTT_state - the state of the job
	TTTT_healthy the health information of the job


#######################################
		mkDomain
 Function mkDomain
	Make domain from global properties
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing


#######################################
		mkDomainVariable
 Function mkDomainVariable
	Make domain with variable parameters
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing
	$1 zk connect string or "" for embeddedzk
	$2 domainname
	$3 sws port
	$4 jmx port
	$5 checkpointRepository path
	$6 fileStoragePath


#######################################
		mkInst
 Function mkInst
	Make instance from global properties
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing


#######################################
		mkInstVariable
 Function mkInstVariable
	Make instance with variable parameters
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing
	$1 instance name
	$2 numresources


#######################################
		splCompile
 Function splCompile
	Compile spl application expect successful result
	No treatment in case of compiler error
 Parameters:
	TTPR_splcFlags   - compiler flags
	TT_mainComposite - the bname of the main composite
	TT_toolkitPath   - the toolkit path (the testframe toolkit is automatically appended
	TTRO_treads      - the number os used cpu threads
	$1 --            - further compiler arguments (compile time arguments)


#######################################
		splCompileAndIntercept
 Function splCompileAndIntercept
	Compile spl application and intercept compile errors
	compiler console & error output is stored into file TT_evaluationFile
	compiler result code is sored in TTTT_result
 Parameters: see splCompile


#######################################
		splCompileAndLog
 Function splCompileAndLog
	Compile spl application expect successful result
	compiler colsole & error output is stored into file
	No treatment in case of compiler error
 Parameters: see splCompile


#######################################
		splCompileInterceptAndError
 Function splCompileInterceptAndError
	Compile spl application and intercept compile errors
	Expect error. Otherwise failure condition is set
	compiler console & error output is stored into file TT_evaluationFile
	compiler result code is sored in TTTT_result
 Parameters: see splCompile


#######################################
		splCompileInterceptAndSuccess
 Function splCompileInterceptAndSuccess
	Compile spl application and intercept compile errors
	Expect success. Otherwise failure condition is set
	compiler console & error output is stored into file TT_evaluationFile
	compiler result code is sored in TTTT_result
 Parameters: see splCompile


#######################################
		startDomain
 Function startDomain
	Start domain from global properties
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing


#######################################
		startDomainVariable
 Function startDomainVariable
	Make domain with variable parameters
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing
	$1 domainname


#######################################
		startInst
 Function startInst
	Start instance from global properties
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing


#######################################
		startInstVariable
 Function startInstVariable
	Start instance with variable parameters
	If variable  TTPR_noStart or TTTT_noStreamsStart is true, do nothing
	$1 domainname


#######################################
		submitJob
 Function submitJob
	create data directory if data directory variable is non empty
	and submit the job
	submits a job and provides the jobnumber file
 Parameters:
	$1 ...$n - optionally more config and submission time parameters
	$TTPRN_streamsDomainId   - domain id
	$TTPRN_streamsInstanceId - instance id
	$TT_sabFile              - sab file
	$TT_jobFile              - output jobnumber file name
	$TT_traceLevel           - trace level
	TT_dataDir - the data directory variable
 Returns:
	the return code of the executed command
 Exits:
	if the job was started and the jobnumber file does not exists
 Side Effects:
	TTTT_jobno - jobnumber if job was started or empty


#######################################
		submitJobAndIntercept
 Function submitJobAndIntercept
	create data directory if data directory variable is non empty
	and submit the job and write the result code into TTTT_result
	submits a job and provides the jobnumber file
 Parameters:
	$1 ...$n - optionally more config and submission time parameters
	$TTPRN_streamsDomainId   - domain id
	$TTPRN_streamsInstanceId - instance id
	$TT_sabFile              - sab file
	$TT_jobFile              - output jobnumber file name
	$TT_traceLevel           - trace level
	TT_dataDir - the data directory variable
 Returns:
	success
 Exits:
	if the job was started and the jobnumber file does not exists
 Side Effects:
	TTTT_result - the result code of the executed command
	TTTT_jobno - jobnumber if job was started or empty


#######################################
		submitJobInterceptAndSuccess
 Function submitJobInterceptAndSuccess
	create data directory if data directory variable is non empty
	and submit the job and expect a successful submission
	submits a job and provides the jobnumber file
 Parameters:
	$1 ...$n - optionally more config and submission time parameters
	$TTPRN_streamsDomainId   - domain id
	$TTPRN_streamsInstanceId - instance id
	$TT_sabFile              - sab file
	$TT_jobFile              - output jobnumber file name
	$TT_traceLevel           - trace level
	TT_dataDir - the data directory variable
 Returns:
	success
 Exits:
	if the job was started and the jobnumber file does not exists
 Side Effects:
	TTTT_result - the result code of the executed command
	TTTT_jobno - jobnumber if job was started or empty
	the failure condition is set if the job submission fails


#######################################
		submitJobLogAndIntercept
 Function submitJobLogAndIntercept
	create data directory if data directory variable is non empty
	and submit the job and and write the result code into TTTT_result
	submits a job and provides the jobnumber file and the console output of the command in evaluation file
 Parameters:
	$1 ...$n - optionally more config and submission time parameters
	$TTPRN_streamsDomainId   - domain id
	$TTPRN_streamsInstanceId - instance id
	$TT_sabFile              - sab file
	$TT_jobFile              - output jobnumber file name
	$TT_traceLevel           - trace level
	TT_dataDir - the data directory variable
	$TT_evaluationFile - the file name of the evaluation file
 Returns:
	success
 Exits:
	if the job was started and the jobnumber file does not exists
 Side Effects:
	TTTT_result - the result code of the executed command
	TTTT_jobno - jobnumber if job was started or empty


#######################################
		submitJobOld
 Function submitJobOld
	$1 sab files
	$2 output file name
	return_code: the returncode of the called function


#######################################
		submitJobVariable
 Function submitJobVariable
	create data directory if data directory variable is non empty
	and submit the job
 Parameters:
	$1     - domain id
	$2     - instance id
	$3     - sab file
	$4     - output jobnumber file name
	$5     - trace level
	$6 ... - optionally more command line parameters (submission time and config params)
	TT_dataDir - the data directory variable
 Returns:
	the return code of the executed command
 Exits:
	if the command is called with wrong parameters
	if the job was started and the jobnumber file does not exists
 Side Effects:
	TTTT_jobno - jobnumber if job was started or empty


#######################################
		waitForFin
 Function waitForFin
	waits until the final file appears
	see also function waitForFileToAppear
 Parameters:
	$TT_waitForFileName - the name of the file to wait for
	$TT_waitForFileInterval - the interval for that check
 Returns
	success if the file was found
	failure otherwise


#######################################
		waitForFinAndHealth
 Function waitForFinAndHealth
	waits until the final file appears and the job remains healthy
	set failure condition if job changes state from healthy to non healthy
	$TT_waitForFileName - the name of the file to wait for
	$TT_waitForFileInterval - the interval
	returns success if the file was found


